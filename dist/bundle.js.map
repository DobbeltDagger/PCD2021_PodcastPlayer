{"version":3,"file":"bundle.js","sources":["../src/js/functions.js","../src/js/Particle.js","../src/js/App.js","../src/index.js"],"sourcesContent":["///////////////////////////////////////////\r\n// run upon resize of screen\r\nconst resize = () => {\r\n  console.log(\"resize was run\");\r\n  \r\n  var totalWidth = window.innerWidth\r\n  || document.documentElement.clientWidth\r\n  || document.body.clientWidth;\r\n\r\n  var totalHeight = window.innerHeight\r\n  || document.documentElement.clientHeight\r\n  || document.body.clientHeight;\r\n\r\n  return { totalWidth, totalHeight };\r\n}\r\n\r\n\r\n///////////////////////////////////////////\r\n// from Margretes sketch\r\nfunction curlNoise(x, y) {\r\n  const eps = 0.0000001;\r\n  let n1, n2, a, b;\r\n  x = x / eps;\r\n  y = y / eps;\r\n  n1 = noise(x, y + eps);\r\n  n2 = noise(x, y - eps);\r\n  a = (n1 - n2) / (2 * eps);\r\n\r\n  n1 = noise(x + eps, y);\r\n  n2 = noise(x - eps, y);\r\n\r\n  b = (n1 - n2) / (2 * eps);\r\n\r\n  const curl = createVector(a, -b);\r\n  curl.normalize();\r\n  return curl;\r\n}\r\n\r\n\r\n\r\n///////////////////////////////////////////\r\n// exporting all\r\nexport {\r\n  resize, curlNoise\r\n}","// GLOBAL VARS\r\n// const particles = [];\r\n// const numberOfParticles = 400;\r\n// const noiseScale = 1.2e11;\r\n// const backgroundColor = `rgb(17, 10, 20)`;\r\n// const particleSize = 1.4;\r\n// const pickSpeed = () => random([0.2, 0.5, 0.5, 0.8, 1, 2]);\r\n// const bothDirections = true;\r\n\r\n\r\n////////////////////////////////////////////////////\r\nexport class Particle {\r\n\r\n  constructor(x, y) {\r\n    this.prevPos = createVector(x, y);\r\n    this.pos = createVector(x, y);\r\n    this.speed = pickSpeed()\r\n    this.speed *= (bothDirections && random() < 0.5) ? -1 : 1;\r\n    this.changeColor();\r\n  }\r\n  \r\n  /////////////////////////////////\r\n  move() {\r\n    this.prevPos = this.pos.copy();\r\n    const direction = curlNoise(this.pos.x / noiseScale, this.pos.y / noiseScale);\r\n    this.pos.add(direction.mult(this.speed));\r\n\r\n    if (this.pos.x > width || this.pos.x < 0 || this.pos.y > height || this.pos.y < 0) {\r\n      this.pos.x = random(width);\r\n      this.pos.y = random(height);\r\n      this.prevPos = this.pos.copy();\r\n      this.changeColor();\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////\r\n  display() {\r\n    stroke(this.color);\r\n    line(this.prevPos.x, this.prevPos.y, this.pos.x, this.pos.y);\r\n  }\r\n\r\n  /////////////////////////////////\r\n  changeColor() {\r\n    let alpha = random() ** 0.8 * random(random(140, 160), random(160, random(160, 255)));\r\n    alpha = map(alpha, 0, 255, 0, 200)\r\n    const weightings = [{\r\n        chance: 0.36,\r\n        color: color(103, 197, 218, alpha)\r\n      },\r\n      {\r\n        chance: 0.08,\r\n        color: color(255, 255, 255, alpha)\r\n      },\r\n      {\r\n        chance: 0.28,\r\n        color: color(131, 113, 161, alpha)\r\n      },\r\n      {\r\n        chance: 0.28,\r\n        color: color(193, 56, 135, alpha)\r\n      },\r\n      {\r\n        chance: 0.16,\r\n        color: lerpColor(color(0, 241, 214, alpha), color(255, 0, 110, alpha), random())\r\n      }\r\n    ]\r\n    const totalWeights = weightings.reduce((acc, val) => acc + val.chance, 0);\r\n    let w = random(totalWeights);\r\n\r\n    for (let o of weightings) {\r\n      w -= o.chance;\r\n      if (w < 0) {\r\n        this.color = o.color;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/*\r\n/////////////////////////////////\r\nfunction keyPressed() {\r\n  if (key === \"s\") save();\r\n}\r\n*/","// import { p5 } from './libs/p5.js';\r\n// import './libs/p5.js';\r\n// const p5 = require('./libs/p5.js');\r\n// none of the above are good!\r\nimport { curlNoise } from './functions.js';\r\nimport { Particle } from './Particle.js';\r\n\r\n///////////////////////////////////////////////////////////\r\nexport function App() {\r\n\r\n}\r\n\r\n\r\n/*\r\n////////////////////////////////////////////////////\r\n// TESTING RUNNING p5 from here!\r\nconst particles = [];\r\nconst numberOfParticles = 400;\r\nconst noiseScale = 1.2e11;\r\nconst backgroundColor = `rgb(17, 10, 20)`;\r\nconst particleSize = 1.4;\r\nconst pickSpeed = () => random([0.2, 0.5, 0.5, 0.8, 1, 2]);\r\nconst bothDirections = true;\r\n\r\n////////////////////////////////////////////////////\r\n// p5 setup function\r\nfunction setup() {\r\n  createCanvas(windowWidth, windowHeight);\r\n  //background(backgroundColor);\r\n  for (let i = 0; i < numberOfParticles; i++) {\r\n    particles[i] = new Particle(random(width), random(height));\r\n  }\r\n  noiseDetail(8, 0.65);\r\n  strokeCap(SQUARE);\r\n  strokeWeight(particleSize);\r\n  smooth();\r\n}\r\n\r\n\r\n////////////////////////////////////////////////////\r\n// p5 draw function\r\nfunction draw() {\r\n  // What is this mousePressed? - I should get rid of that in this version!\r\n  if (mouseIsPressed) particles[floor(random(particles.length - 1))] = new Particle(mouseX, mouseY, particles.length - 1);\r\n\r\n  for (let i = 0; i < numberOfParticles; i++) {\r\n    particles[i].move();\r\n    particles[i].display();\r\n  }\r\n}\r\n\r\nsetup();\r\ndraw();\r\n*/\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////\r\nApp.prototype = {\r\n\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  init: function() {\r\n    console.log(\"App init was run\")\r\n    \r\n    console.log(\"p5:\", p5);\r\n    console.log(\"player:\", player);\r\n    console.log(\"Particle:\", Particle);\r\n    \r\n    // testing babel\r\n    this.testPromise();\r\n\r\n    // start sketch in bg\r\n\r\n\r\n    // start Drawing()\r\n    // this.draw();\r\n  },\r\n\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  draw: function() {\r\n    // this just draws in a loop\r\n    // requestAnimationFrame(draw);\r\n\r\n    console.log(\"Drawing\")\r\n  },\r\n\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  testPromise: async function() {\r\n    await this.testingBabel()\r\n      .then(response => console.log(\"Response:\", response));\r\n    console.log(\"testPromise awaited testingBabel function\")\r\n  },\r\n\r\n  \r\n  ///////////////////////////////////////////////////////////\r\n  testingBabel: function() {\r\n    // this works\r\n    const test = () => {\r\n      console.log(\"Arrow function is tested!\");\r\n    }\r\n    let x = 0;\r\n    return new Promise((resolve, reject) => {\r\n      if (x > 0) {\r\n        reject(\"x is not right\");\r\n      }\r\n      else {\r\n        resolve(\"this is a good x\");\r\n      }\r\n    })\r\n  },\r\n\r\n}","import { App } from './js/App.js';\r\nimport { resize } from './js/functions.js';\r\n\r\n\r\n////////////////////////////////////////////////////////\r\nwindow.addEventListener(\"DOMContentLoaded\", function() {\r\n  \r\n  console.log(\"DOM is loaded\");\r\n  \r\n  \r\n  let app = new App();\r\n  app.init();\r\n  \r\n  window.onresize = resize;\r\n  resize();\r\n\r\n  /*\r\n  // loop trough all\r\n  let _app = app;\r\n  app.init(() => {\r\n    console.log(\"app init is done. Start main loop\");\r\n    setInterval(() => _app.mainLoop(), 100); // 150); // 250); // 250);\r\n  });\r\n  */\r\n\r\n});"],"names":[],"mappings":"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"}